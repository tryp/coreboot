
config CPU_INTEL_FSP_HASWELL
	bool

if CPU_INTEL_FSP_HASWELL

config CPU_SPECIFIC_OPTIONS
	def_bool y
	select ARCH_BOOTBLOCK_X86_32
	select ARCH_ROMSTAGE_X86_32
	select ARCH_RAMSTAGE_X86_32
	select BACKUP_DEFAULT_SMM_REGION
	select SMP
	select MMX
	select SSE
	select SSE2
	select UDELAY_TSC
	#select UDELAY_LAPIC
	select TSC_CONSTANT_RATE
	select SMM_TSEG
	select RELOCATABLE_MODULES
	select RELOCATABLE_RAMSTAGE
	select DYNAMIC_CBMEM
	select BROKEN_CAR_MIGRATE
	select SUPPORT_CPU_UCODE_IN_CBFS
	#select AP_IN_SIPI_WAIT
	select TSC_SYNC_MFENCE
	select LAPIC_MONOTONIC_TIMER
	#select CPU_INTEL_FIRMWARE_INTERFACE_TABLE
	select PARALLEL_CPU_INIT
	select PARALLEL_MP

config SERIAL_CPU_INIT
	bool
	default n

config SMM_TSEG_SIZE
	hex
	default 0x800000

config ENABLE_VMX
	bool "Enable VMX for virtualization"
	default n

config IED_REGION_SIZE
	hex
	default 0x400000

config SMM_RESERVED_SIZE
	hex
	default 0x100000

config RESET_ON_INVALID_RAMSTAGE_CACHE
	bool "Reset the system on S3 wake when ramstage cache invalid."
	default n
	depends on RELOCATABLE_RAMSTAGE
	help
	  The haswell romstage code caches the loaded ramstage program
	  in SMM space. On S3 wake the romstage will copy over a fresh
	  ramstage that was cached in the SMM space. This option determines
	  the action to take when the ramstage cache is invalid. If selected
	  the system will reset otherwise the ramstage will be reloaded from
	  cbfs.

config MONOTONIC_TIMER_MSR
	def_bool n
	depends on INTEL_LYNXPOINT_LP
	select HAVE_MONOTONIC_TIMER
	help
	  Provide a monotonic timer using the 24MHz MSR counter.

config HAVE_FSP
	bool "Add a FSP  binary"
	help
	  Select this option to add a System Agent binary to
	  the resulting coreboot image.

	  Note: Without this binary coreboot will not work

config FSP_FILE
	string "Intel System Agent path and filename"
	depends on HAVE_FSP
	default "3rdparty/blobs/mainboard/$(MAINBOARDDIR)/fsp.bin"
	help
	  The path and filename of the file to use as System Agent
	  binary.

config FSP_LOCATION
	hex "Intel System Agent binary location in cbfs"
	depends on HAVE_FSP
	default 0xfff60000
	help
	  The location in cbfs that the Intel System Agent binary is
	  located. Be careful if you change this location.

config CPU_MICROCODE_FILE
	string "Microcode file path and filename"
	depends on CPU_MICROCODE_IN_CBFS && CPU_MICROCODE_CBFS_GENERATE
	default "microcode_blob.c"
	help
	  The path and filename of the file to use as microcode
	  file.

config CPU_MICROCODE_CBFS_LOC
	hex
	depends on SUPPORT_CPU_UCODE_IN_CBFS
	default 0xfff50040
	help
	  The location in cbfs that the microcode binary is
	  located. Be careful if you change this location.

endif
